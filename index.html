<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Temple Run Mini</title>

<style>
    .game-footer{
    width:95vw;
    max-width:1000px;
    margin-top:20px;
    padding:20px 10px;

    background:rgba(15,23,42,0.6);
    backdrop-filter: blur(10px);

    border-radius:12px;
    border:1px solid rgba(255,255,255,0.05);

    text-align:center;
    font-family: 'Inter', monospace;
}

.footer-line{
    width:50px;
    height:2px;
    background:#facc15;
    margin:0 auto 10px;
    border-radius:2px;
    box-shadow:0 0 10px rgba(250,204,21,0.5);
}

.footer-text{
    margin:0;
    font-size:14px;
    color:#cbd5f5;
}

.brand{
    color:#facc15;
    font-weight:700;
}

.author{
    color:#fff;
    font-weight:500;
}

.sep{
    margin:0 8px;
    color:#475569;
}

.rights{
    margin:5px 0 0;
    font-size:11px;
    text-transform:uppercase;
    letter-spacing:2px;
    color:#64748b;
}

body{
    margin:0;
    background:#020617;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:monospace;
    color:#fff;
    touch-action:none;
}

.wrapper{
    width:95vw;
    max-width:1000px;
}

.header{
    display:flex;
    justify-content:space-between;
    background:#0f172a;
    padding:10px 20px;
    border-radius:12px 12px 0 0;
}

.label{font-size:10px;color:#94a3b8}
.value{font-size:18px;font-weight:800}

.game{
    position:relative;
    height:60vh;
    max-height:420px;
    background:linear-gradient(#0f172a,#1e293b);
    overflow:hidden;
    border-radius:0 0 12px 12px;
}

.ground{
    position:absolute;
    bottom:0;
    width:100%;
    height:40px;
    background:#ca8a04;
}

/* ================= HERO ================= */
.hero{
    position:absolute;
    bottom:40px;
    left:70px;

    width:110px;
    height:110px;

    background:url("hs.png") center/100% 100% no-repeat;
}

.hero .hitbox{
    position:absolute;
    bottom:10px;
    left:30px;
    width:50px;
    height:80px;
    background:transparent;
}

/* ================= ENEMY ================= */
.enemy{
    position:absolute;
    bottom:40px;

    width:90px;
    height:90px;

    background:url("vallu.png") center/100% 100% no-repeat;
}

.enemy .hitbox{
    position:absolute;
    bottom:8px;
    left:22px;
    width:45px;
    height:65px;
    background:transparent;
}

/* ================= COIN ================= */
.coin{
    position:absolute;
    width:40px;
    height:40px;
    background:url("coin.png") center/100% 100% no-repeat;
}

.overlay{
    position:absolute;
    inset:0;
    background:rgba(0,0,0,.7);
    display:flex;
    justify-content:center;
    align-items:center;
    letter-spacing:3px;
    z-index:10;
}

.shake{
    animation:shake .2s linear 2;
}

@keyframes shake{
    0%{transform:translateX(0)}
    25%{transform:translateX(-8px)}
    75%{transform:translateX(8px)}
    100%{transform:translateX(0)}
}
</style>
</head>

<body>
<div class="wrapper">

<div class="header">
    <div><div class="label">HIGH</div><div class="value" id="high">00000</div></div>
    <div><div class="label">COINS</div><div class="value" id="coins">00</div></div>
    <div><div class="label">DIST</div><div class="value" id="score">00000</div></div>
</div>

<div class="game" id="game">
    <div class="overlay" id="overlay">TAP / SPACE TO START</div>

    <div class="hero" id="hero">
        <div class="hitbox"></div>
    </div>

    <div class="ground"></div>
</div>

<footer class="game-footer">
    <div class="footer-line"></div>

    <p class="footer-text">
        Â© 2026 <span class="brand">Temple Run Mini</span>
        <span class="sep">|</span>
        Developed by <span class="author">Nabil Mubashir</span>
    </p>

    <p class="rights">All Rights Reserved</p>
</footer>

</div>

<script>
const game = document.getElementById("game");
const hero = document.getElementById("hero");
const overlay = document.getElementById("overlay");

const scoreEl = document.getElementById("score");
const highEl = document.getElementById("high");
const coinEl = document.getElementById("coins");

let score=0, coins=0;
let high=localStorage.getItem("templeHigh")||0;
highEl.innerText=String(high).padStart(5,"0");

let speed=8;
let alive=false, started=false;

let y=0, vy=0, jumps=0;
const gravity=0.8;

let enemies=[], coinList=[];

/* ================= INPUT ================= */
function input(){
    if(!started){ start(); return;}
    if(jumps<2){
        vy=-14;
        jumps++;
    }
}

document.addEventListener("keydown",e=>{
    if(e.code==="Space"||e.code==="ArrowUp") input();
});
document.addEventListener("touchstart",e=>{
    e.preventDefault(); input();
},{passive:false});

/* ================= GAME ================= */
function start(){
    started=true;
    alive=true;
    overlay.style.display="none";
    loop();
}

function spawnEnemy(){
    const e=document.createElement("div");
    e.className="enemy";
    e.innerHTML=`<div class="hitbox"></div>`;
    e.style.right="-100px";
    game.appendChild(e);
    enemies.push(e);
}

function spawnCoin(){
    const c=document.createElement("div");
    c.className="coin";
    c.style.right="-60px";
    c.style.bottom=90+Math.random()*120+"px";
    game.appendChild(c);
    coinList.push(c);
}

function loop(){
    if(!alive) return;

    // physics
    vy+=gravity;
    y+=vy;
    if(y>0){y=0;vy=0;jumps=0;}
    hero.style.transform=`translateY(${y}px)`;

    // enemies
    enemies.forEach((e,i)=>{
        e.style.right=parseInt(e.style.right)+speed+"px";
        if(collide(hero,e)) gameOver();
        if(parseInt(e.style.right)>game.clientWidth+120){
            e.remove(); enemies.splice(i,1);
        }
    });

    // coins
    coinList.forEach((c,i)=>{
        c.style.right=parseInt(c.style.right)+speed+"px";
        if(collide(hero,c)){
            coins++;
            coinEl.innerText=String(coins).padStart(2,"0");
            c.remove(); coinList.splice(i,1);
        }
        if(parseInt(c.style.right)>game.clientWidth+80){
            c.remove(); coinList.splice(i,1);
        }
    });

    score++;
    speed+=0.002;
    scoreEl.innerText=String(Math.floor(score/5)).padStart(5,"0");

    requestAnimationFrame(loop);
}

function collide(a,b){
    const r1=a.querySelector(".hitbox")?.getBoundingClientRect() || a.getBoundingClientRect();
    const r2=b.querySelector(".hitbox")?.getBoundingClientRect() || b.getBoundingClientRect();

    return (
        r1.right > r2.left &&
        r1.left < r2.right &&
        r1.bottom > r2.top &&
        r1.top < r2.bottom
    );
}

function gameOver(){
    alive=false;
    game.classList.add("shake");

    if(Math.floor(score/5)>high){
        localStorage.setItem("templeHigh",Math.floor(score/5));
    }
    setTimeout(()=>location.reload(),400);
}

/* ================= SPAWN ================= */
setInterval(()=>alive&&spawnEnemy(),1600);
setInterval(()=>alive&&spawnCoin(),1200);
</script>
</body>
</html>
